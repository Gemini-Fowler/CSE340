<%- include('../partials/head') %>

    <body>
        <%- include('../partials/header') %>
            <%- include('../partials/navigation') %>

                <main>
                    <h1>
                        <%= title %>
                    </h1>

                    <% if (typeof messages !=='undefined' && messages.notice) { %>
                        <div class="alert alert-notice">
                            <%= messages.notice %>
                        </div>
                        <% } %>

                            <% if (typeof messages !=='undefined' && messages.error) { %>
                                <div class="alert alert-danger">
                                    <%= messages.error %>
                                </div>
                                <% } %>

                                    <% if (errors) { %>
                                        <ul class="notice">
                                            <% errors.array().forEach(error=> { %>
                                                <li>
                                                    <%= error.msg %>
                                                </li>
                                                <% }) %>
                                        </ul>
                                        <% } %>

                                            <div class="appointment-schedule-container">
                                                <div class="vehicle-summary">
                                                    <img src="<%= vehicleData.inv_thumbnail %>"
                                                        alt="<%= vehicleData.inv_make %> <%= vehicleData.inv_model %>">
                                                    <h2>
                                                        <%= vehicleData.inv_year %>
                                                            <%= vehicleData.inv_make %>
                                                                <%= vehicleData.inv_model %>
                                                    </h2>
                                                </div>

                                                <form action="/appointments/schedule" method="post"
                                                    class="appointment-form">
                                                    <input type="hidden" name="inv_id"
                                                        value="<%= vehicleData.inv_id %>">

                                                    <div class="form-group">
                                                        <label for="appointment_date">Preferred
                                                            Date:<span>*</span></label>
                                                        <input type="date" id="appointment_date" name="appointment_date"
                                                            required
                                                            min="<%= new Date().toISOString().split('T')[0] %>">
                                                    </div>

                                                    <div class="form-group">
                                                        <label for="appointment_time">Preferred
                                                            Time:<span>*</span></label>
                                                        <select id="appointment_time" name="appointment_time" required>
                                                            <option value="">Select a time</option>
                                                            <option value="09:00 AM">9:00 AM</option>
                                                            <option value="10:00 AM">10:00 AM</option>
                                                            <option value="11:00 AM">11:00 AM</option>
                                                            <option value="12:00 PM">12:00 PM</option>
                                                            <option value="01:00 PM">1:00 PM</option>
                                                            <option value="02:00 PM">2:00 PM</option>
                                                            <option value="03:00 PM">3:00 PM</option>
                                                            <option value="04:00 PM">4:00 PM</option>
                                                            <option value="05:00 PM">5:00 PM</option>
                                                        </select>
                                                    </div>

                                                    <div class="form-group">
                                                        <label for="notes">Additional Notes (optional):</label>
                                                        <textarea id="notes" name="notes" rows="4"
                                                            placeholder="Any specific questions or requirements?"></textarea>
                                                    </div>

                                                    <div class="form-actions">
                                                        <button type="submit" class="btn btn-primary">Schedule
                                                            Appointment</button>
                                                        <a href="/inv/detail/<%= vehicleData.inv_id %>"
                                                            class="btn btn-secondary">Cancel</a>
                                                    </div>
                                                </form>
                                            </div>
                </main>

                <%- include('../partials/footer') %>
    </body>

    </html>