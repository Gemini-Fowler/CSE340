<%- include('../partials/header.ejs') %>

<main>
  <h1>Add New Vehicle</h1>

  <% if (message) { %>
    <div class="flash-message">
      <%= message %>
    </div>
  <% } %>

  <form action="/inv/add-inventory" method="POST">
    <label for="invMake">Make:</label>
    <input type="text" id="invMake" name="inv_make" required
      value="<%= typeof inv_make !== 'undefined' ? inv_make : '' %>">

    <label for="invModel">Model:</label>
    <input type="text" id="invModel" name="inv_model" required
      value="<%= typeof inv_model !== 'undefined' ? inv_model : '' %>">

    <label for="invYear">Year:</label>
    <input type="number" id="invYear" name="inv_year" required
      value="<%= typeof inv_year !== 'undefined' ? inv_year : '' %>">

    <label for="invDescription">Description:</label>
    <textarea id="invDescription" name="inv_description" required><%= typeof inv_description !== 'undefined' ? inv_description : '' %></textarea>

    <label for="invImage">Image Path:</label>
    <input type="text" id="invImage" name="inv_image" required
      value="<%= typeof inv_image !== 'undefined' ? inv_image : '' %>">

    <label for="invThumbnail">Thumbnail Path:</label>
    <input type="text" id="invThumbnail" name="inv_thumbnail" required
      value="<%= typeof inv_thumbnail !== 'undefined' ? inv_thumbnail : '' %>">

    <label for="invPrice">Price:</label>
    <input type="number" id="invPrice" name="inv_price" required
      value="<%= typeof inv_price !== 'undefined' ? inv_price : '' %>">

    <label for="invMiles">Miles:</label>
    <input type="number" id="invMiles" name="inv_miles" required
      value="<%= typeof inv_miles !== 'undefined' ? inv_miles : '' %>">

    <label for="invColor">Color:</label>
    <input type="text" id="invColor" name="inv_color" required
      value="<%= typeof inv_color !== 'undefined' ? inv_color : '' %>">

    <label for="classificationId">Classification:</label>
    <select id="classificationId" name="classification_id" required>
      <option value="">Select a Classification</option>
      <% classifications.forEach(classification => { %>
        <option value="<%= classification.classification_id %>"
          <%= typeof classification_id !== 'undefined' && classification_id == classification.classification_id ? 'selected' : '' %>>
          <%= classification.classification_name %>
        </option>
      <% }) %>
    </select>

    <button type="submit">Add Vehicle</button>
  </form>
</main>

<%- include('../partials/footer.ejs') %>
